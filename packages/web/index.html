<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>前端监控SDK</title>
		<script src="./dist/index.js"></script>
	</head>
	<body>
		<h1 id="h1">这是一段内容</h1>
		<button id="jserror">jsError</button>
		<button id="httperror">httpError</button>
		<button id="sourceerror">sourceError</button>
		<script>
			const { BehaviorPlugin, WhiteScreenPlugin, FPSPlugin, PerformancePlugin, PvPlugin, HttpErrorPlugin, SourceErrorPlugin, JSErrorPlugin, Starter, BeaconSender } = fsnet
			const sender = new BeaconSender('http://localhost:9000/track')
			new Starter([BehaviorPlugin, WhiteScreenPlugin, FPSPlugin, PerformancePlugin, PvPlugin, HttpErrorPlugin, SourceErrorPlugin, JSErrorPlugin], sender)
			const jsbtn = document.getElementById('jserror')
			const httpbtn = document.getElementById('httperror')
			const sourcebtn = document.getElementById('sourceerror')
			const h1 = document.getElementById('h1')
			jsbtn.addEventListener('click', () => {
				throw new Error('yigeerror')
			})
			httpbtn.addEventListener('click', () => {
				fetch('http://huidha.com')
			})
			sourcebtn.addEventListener('click', () => {
				const img = window.document.createElement('img')
				img.src = 'http://huidha.com'
				h1.appendChild(img)
			})
		</script>
	</body>
</html>
